PROMPTS = {}

PROMPTS['initial_analysis_agent'] = """
---
### **任务描述**

你是一个顶级的论文写手，请帮助我根据以下主题、描述和问题，撰写一个论文大纲，并以嵌套的JSON格式返回。大纲应包括论文主标题（1级）、2-4级子标题以及每个段落的概述。每个标题应包含以下字段：

- `title`: 标题内容。
- `level`: 标题级别（1表示一级标题，2表示二级标题，以此类推），标题级别最大为4。
- `summary`: 对应段落的简要概述，即需要介绍什么样的内容或者回答什么样的问题。
- `children`: 子标题列表，结构与父标题相同。

请确保输出仅包含JSON，不需要其他解释或文本。

**示例输出格式**：

{{
    "title": "论文主标题",
    "level": 1,
    "summary": "整体概述。",
    "children": [
        {{
            "title": "第一部分标题",
            "level": 2,
            "summary": "第一部分的段落概述。",
            "children": [
                {{
                    "title": "子部分标题",
                    "level": 3,
                    "summary": "子部分的段落概述。",
                    "children": []
                }}
            ]
        }}
    ]
}}

---
### **示例**：

主题：**人工智能在医疗诊断中的应用**

描述：**详细介绍各种可以用于医疗诊断的人工智能技术，介绍他们的原理和应用，需要涵盖多种模态**

问题：**图像分割技术在医疗领域有哪些应用？大语言模型可以如何帮助问诊？**

输出：
{{
    "title": "人工智能在医疗诊断中的应用",
    "level": 1,
    "summary": "探讨人工智能技术在医疗诊断中的各种应用及其影响。",
    "children": [
        {{
            "title": "引言",
            "level": 2,
            "summary": "介绍人工智能在医疗领域的发展背景和研究意义。",
            "children": []
        }},
        {{
            "title": "人工智能技术概述",
            "level": 2,
            "summary": "概述人工智能的基本概念、主要技术及其在医疗中的基本应用。",
            "children": [
                {{
                    "title": "机器学习在医疗中的应用",
                    "level": 3,
                    "summary": "探讨机器学习算法如何用于疾病预测和诊断。",
                    "children": []
                }},
                {{
                    "title": "深度学习与影像诊断",
                    "level": 3,
                    "summary": "分析深度学习在医学影像分析中的具体应用。",
                    "children": [
                        {{
                            "title": "卷积神经网络在X光图像中的应用",
                            "level": 4,
                            "summary": "讨论卷积神经网络如何提高X光图像的诊断准确率。",
                            "children": []
                        }}
                    ]
                }}
            ]
        }},
        {{
            "title": "案例研究",
            "level": 2,
            "summary": "通过具体案例展示人工智能在医疗诊断中的实际应用效果。",
            "children": [
                {{
                    "title": "AI辅助肺癌诊断",
                    "level": 3,
                    "summary": "介绍人工智能在肺癌早期检测中的应用及成果。",
                    "children": []
                }},
                {{
                    "title": "AI在糖尿病视网膜病变检测中的应用",
                    "level": 3,
                    "summary": "探讨人工智能技术在糖尿病视网膜病变检测中的作用。",
                    "children": []
                }}
            ]
        }},
        {{
            "title": "挑战与未来发展",
            "level": 2,
            "summary": "分析人工智能在医疗诊断中面临的主要挑战及未来发展趋势。",
            "children": [
                {{
                    "title": "数据隐私与安全",
                    "level": 3,
                    "summary": "讨论医疗数据隐私保护及安全性问题。",
                    "children": []
                }},
                {{
                    "title": "伦理与法律问题",
                    "level": 3,
                    "summary": "探讨人工智能在医疗应用中的伦理和法律挑战。",
                    "children": []
                }},
                {{
                    "title": "技术进步与融合",
                    "level": 3,
                    "summary": "展望人工智能技术在医疗中的未来发展方向。",
                    "children": []
                }}
            ]
        }},
        {{
            "title": "结论",
            "level": 2,
            "summary": "总结人工智能在医疗诊断中的应用成果及其未来潜力。",
            "children": []
        }}
    ]
}}

---
### **你的任务**：

主题：**{topic}**

描述：**{description}**

问题：**{problem}**

输出：
"""

PROMPTS['refine_doc'] = """
---
### **任务描述**

您需要根据提供的"标题"和"概述"，从"相关文档"中提取出该段落写作所需的全部关键信息。要求如下：
1. **保留必要信息**：确保内容完整，不遗漏任何关键点。
2. **删除冗余信息**：剔除重复、无关或不必要的内容。
3. **逻辑清晰**：组织内容结构合理，便于后续写作。
4. **简洁表达**：使用简明扼要的语言进行表述。

只输出精炼后的相关文档，不需要输出任何额外内容和解释。

---
### **示例**

**标题**: 5G技术对智能交通系统的影响

**概述**: 分析5G技术在智能交通系统中的应用，探讨其在提升交通管理效率、提高车辆通信能力和改善道路安全方面的作用，同时指出目前面临的技术挑战和未来发展方向。

**相关文档**: 5G技术以其高速度、低延迟和大连接数的特点，为智能交通系统带来了革命性的变化。首先，5G能够显著提升交通管理系统的响应速度，通过实时数据传输，实现更高效的交通信号控制和拥堵管理。例如，利用5G网络，交通灯可以根据实时交通流量自动调整，从而减少拥堵时间。其次，5G增强了车辆之间以及车辆与基础设施之间的通信能力（V2X），这对于自动驾驶汽车的发展至关重要。高可靠性的通信使得车辆能够更准确地感知周围环境，及时做出反应，极大地提高了行车安全性。此外，5G在车辆远程维修、车载娱乐系统以及车联网服务方面也展现出巨大的潜力。通过5G网络，车辆可以实时接收远程诊断信息，自动更新软件，提高车辆的智能化水平。然而，5G技术在智能交通系统中的应用也面临一些挑战。首先是基础设施建设的高成本问题，覆盖广泛的5G网络需要大量的投资。其次，数据安全和隐私保护也是亟需解决的重要问题，如何在保证高速通信的同时，防止数据泄露和网络攻击，是当前的研究重点。未来，随着5G技术的不断成熟和成本的逐步降低，其在智能交通系统中的应用将更加广泛和深入。结合人工智能、大数据分析等技术，5G有望进一步提升交通管理的智能化水平，推动智慧城市的建设。

**输出**: 5G技术以其高速度、低延迟和大连接数的特点，极大地提升了智能交通系统的效率和安全性。在交通管理方面，5G支持实时数据传输，实现更高效的交通信号控制和拥堵管理，例如交通灯能根据实时流量自动调整，减少拥堵时间。车辆通信方面，5G增强了车辆与车辆（V2V）及车辆与基础设施（V2I）的通信能力（V2X），为自动驾驶提供可靠的支持，使车辆能更准确地感知环境，及时反应，提升行车安全。此外，5G促进了车辆远程维修、车载娱乐系统和车联网服务的发展，通过实时接收远程诊断信息和自动软件更新，提高了车辆的智能化水平。然而，5G在智能交通中的应用也面临基础设施建设成本高、数据安全与隐私保护等挑战。未来，随着5G技术的成熟和成本降低，结合人工智能和大数据分析，5G将在智能交通系统中发挥更为关键的作用，推动智慧城市的进一步发展。

---
### **你的任务**

**标题**: {title}

**概述**: {summary}

**相关文档**: {document}

**输出**: 
"""

PROMPTS['hypothetical_doc'] = """
---
### **任务描述**

您需要根据提供的"标题"和"段落"，判断写作该段落所需的相关文档内容，并生成这些"相关文档"。要求如下：
1. **确定需求**：分析"标题"和"段落"，确定支持写作所需的关键信息和背景资料。
2. **生成相关文档**：编写与段落内容相关且有助于理解和扩展段落的文档。确保信息全面且有条理。
3. **逻辑清晰**：组织内容结构合理，便于后续写作和引用。
4. **简洁表达**：使用简明扼要的语言进行表述。

只输出你生成的相关文档，不需要输出任何额外内容和解释。

---
### **示例**

**标题**: 可再生能源的发展趋势

**段落**: 可再生能源在近年来取得了显著进展，成为全球能源结构转型的重要推动力。风能和太阳能的成本不断下降，使其在能源市场中具备了更强的竞争力。此外，政策支持和技术创新也加速了可再生能源的普及。然而，可再生能源的间歇性和储能技术的不足仍是制约其进一步发展的主要瓶颈。

**输出**: 可再生能源的发展现状\n近年来，全球可再生能源的装机容量持续增长。截至2023年，风能和太阳能的总装机容量分别达到XXXX吉瓦和XXXX吉瓦，占全球发电总量的XX%。特别是在欧洲和中国，风能和太阳能的发展尤为迅速。\n成本趋势\n风能和太阳能的成本在过去十年中显著下降。根据国际可再生能源机构（IRENA）的数据，陆上风电成本下降了XX%，太阳能光伏成本下降了XX%。这一成本下降使得可再生能源在电力市场中的竞争力大幅增强，部分地区的风能和太阳能已具备与传统化石能源竞争的价格优势。\n政策支持\n各国政府纷纷出台支持可再生能源发展的政策，包括补贴、税收优惠、可再生能源配额制等。例如，欧盟的《绿色新政》旨在到2030年将可再生能源在能源结构中的比例提高到XX%。中国也实施了多项政策，如可再生能源电价补贴和绿色信贷，推动可再生能源的快速发展。\n技术创新\n技术创新在推动可再生能源发展的过程中起到了关键作用。高效风电机组和光伏组件的研发提升了能源转换效率，降低了单位能耗成本。此外，智能电网和物联网技术的应用增强了能源管理的智能化和精细化水平，进一步提升了可再生能源的利用效率。\n主要挑战\n尽管可再生能源发展迅速，但其间歇性和储能技术的不足仍是主要瓶颈。风能和太阳能受自然条件影响较大，导致能源供应的不稳定性。当前，储能技术的成本高、效率低，限制了大规模储能系统的应用。此外，电网基础设施的建设和升级也需要大量投资，以适应可再生能源的大规模接入。

---
### **你的任务**

**标题**: {title}

**段落**: {summary}

**输出**: 
"""

PROMPTS['compose_single_paragraph'] = """
---
### **任务描述**

请根据以下论文大纲和相关文档，为指定的"段落标题: 段落概述"撰写一个自然流畅的学术段落。
请注意，你需要编写的是正式的学术文章，而不是对话式的回答。要求如下：
1. 段落应自然流畅，符合学术写作规范。
2. 内容应紧扣段落标题和概述，涵盖相关主题的具体应用。
3. 融合相关文档中的信息，提高内容的深度和可信度。
4. 避免使用对话式语言，保持正式的学术风格。
5. 适当引用相关技术或具体研究成果，以增强内容的权威性。
6. 只需要输出指定段落的内容及其标题，不需要输出其他任何额外内容和解释。

【注意】：
- 这个段落没有子段落，相关文档为外部参考资料（如网页文档和知识库文档）。

---
### **示例1**

**文章大纲**: 
《人工智能在医疗诊断中的应用》
1. 引言: 介绍人工智能在医疗领域的发展背景和研究意义。
2. 人工智能技术概述: 概述人工智能的基本概念、主要技术及其在医疗中的基本应用。
2.1. 机器学习在医疗中的应用: 探讨机器学习算法如何用于疾病预测和诊断。
2.2. 深度学习与影像诊断: 分析深度学习在医学影像分析中的具体应用。
2.2.1. 卷积神经网络在X光图像中的应用: 讨论卷积神经网络如何提高X光图像的诊断准确率。
3. 案例研究: 通过具体案例展示人工智能在医疗诊断中的实际应用效果。
3.1. AI辅助肺癌诊断: 介绍人工智能在肺癌早期检测中的应用及成果。
3.2. AI在糖尿病视网膜病变检测中的应用: 探讨人工智能技术在糖尿病视网膜病变检测中的作用。
4. 挑战与未来发展: 分析人工智能在医疗诊断中面临的主要挑战及未来发展趋势。
4.1. 数据隐私与安全: 讨论医疗数据隐私保护及安全性问题。
4.2. 伦理与法律问题: 探讨人工智能在医疗应用中的伦理和法律挑战。
4.3. 技术进步与融合: 展望人工智能技术在医疗中的未来发展方向。
5. 结论: 总结人工智能在医疗诊断中的应用成果及其未来潜力。

**指定段落**: 2.1. 机器学习在医疗中的应用: 探讨机器学习算法如何用于疾病预测和诊断。

**相关文档**: 
[相关文档1, 相关文档2, ...]

**输出**: 
2.1. 机器学习在医疗中的应用
机器学习算法，特别是监督学习和无监督学习，在疾病预测和诊断中展现了显著的效果。通过分析大量患者数据，机器学习模型能够识别出潜在的疾病模式，从而为早期诊断和治疗提供支持。例如，随机森林和支持向量机等算法已被广泛应用于糖尿病和心脏病的预测中，准确率显著提高。

---
### **您的任务**

**文章大纲**: 
{outline}

**指定段落**: {title}: {summary}

**相关文档**: 
{documents}

**输出**: 
"""

PROMPTS['compose_with_subparagraphs'] = """
---
### **任务描述**

请根据以下论文大纲和相关文档，为指定的"段落标题: 段落概述"及其所有子段落撰写一个自然流畅的学术段落。
请注意，你需要编写的是正式的学术文章，而不是对话式的回答。要求如下：
1. 段落应自然流畅，符合学术写作规范。
2. 内容应紧扣段落标题和概述，涵盖相关主题的具体应用。
3. 融合相关文档中的信息，提高内容的深度和可信度。
4. 避免使用对话式语言，保持正式的学术风格。
5. **必须添加引用**：每当使用来自参考文档的信息时，在句子末尾添加引用标记如[web_abc123]或[kb_def456]。
6. 引用格式：根据来源添加以下格式的引用
   - 网络来源：[web_xxxxxx]，其中xxxxxx是源文档的唯一标识符
   - 知识库来源：[kb_xxxxxx]，其中xxxxxx是源文档的唯一标识符
7. **内容长度要求**：每个主要段落应至少包含250-500字的详细内容，子段落应至少包含200-400字。确保内容详尽且有深度，不要过于简短。
8. 只需要输出指定段落（及其所有子段落）的内容及其标题，不需要输出其他任何额外内容和解释。

引用规则：
1. 对于直接引用的事实或数据，需要在引用的内容后面立即添加引用标记
2. 对于基于多个来源综合得出的结论，可以在段落结束时添加多个引用标记
3. 确保所有重要的事实性内容都有来源引用

内容质量要求：
1. 提供具体的例子、数据和研究结果来支持论点
2. 包含深入的分析和详细的解释，而不是简单的概括
3. 充分展开每个要点，使用多个句子阐述一个概念
4. 适当使用过渡词和连接词，确保段落间的逻辑流畅
5. 请确保不要遗漏子段落的标题，且保证子段落标题序号正确。

【注意】：
- 这个段落有子段落，相关文档为其子章节的已生成内容，并请统筹这些子段落的内容进行润色，使整体文章逻辑更加流畅和清晰。

---
### **示例2**

**文章大纲**: 
《人工智能在医疗诊断中的应用》
1. 引言: 介绍人工智能在医疗领域的发展背景和研究意义。
2. 人工智能技术概述: 概述人工智能的基本概念、主要技术及其在医疗中的基本应用。
2.1. 机器学习在医疗中的应用: 探讨机器学习算法如何用于疾病预测和诊断。
2.2. 深度学习与影像诊断: 分析深度学习在医学影像分析中的具体应用。
2.2.1. 卷积神经网络在X光图像中的应用: 讨论卷积神经网络如何提高X光图像的诊断准确率。
3. 案例研究: 通过具体案例展示人工智能在医疗诊断中的实际应用效果。
3.1. AI辅助肺癌诊断: 介绍人工智能在肺癌早期检测中的应用及成果。
3.2. AI在糖尿病视网膜病变检测中的应用: 探讨人工智能技术在糖尿病视网膜病变检测中的作用。
4. 挑战与未来发展: 分析人工智能在医疗诊断中面临的主要挑战及未来发展趋势。
4.1. 数据隐私与安全: 讨论医疗数据隐私保护及安全性问题。
4.2. 伦理与法律问题: 探讨人工智能在医疗应用中的伦理和法律挑战。
4.3. 技术进步与融合: 展望人工智能技术在医疗中的未来发展方向。
5. 结论: 总结人工智能在医疗诊断中的应用成果及其未来潜力。

**指定段落**: 人工智能技术概述: 概述人工智能的基本概念、主要技术及其在医疗中的基本应用。

**相关文档**: 
[段落2.1成文, 段落2.2成文（包含段落2.2.1成文）]

**输出**: 
2. 人工智能的基本概念

人工智能（AI）是计算机科学的一个重要分支，其核心目标是开发能够模拟人类认知功能的计算机系统[web_a1b2c3]。这一领域的研究始于20世纪50年代，经过数十年的发展，已经从理论研究逐步走向实际应用阶段。人工智能系统的基本特征包括自主学习、逻辑推理、问题解决和模式识别等能力，这些能力使计算机能够执行传统上需要人类智能才能完成的任务[kb_d4e5f6]。在技术层面，人工智能主要依靠算法和数据处理能力，通过分析大量数据，识别其中的模式和规律，从而做出决策或预测。随着计算能力的提升和算法的进步，人工智能技术已经深入到各个行业，特别是在医疗领域，展现出巨大的应用潜力和变革力量[web_g7h8i9]。

在医疗健康领域，人工智能的应用已经从实验室研究阶段逐步走向临床实践。医疗AI系统能够分析复杂的医学数据，包括病历记录、医学影像、基因组数据等，辅助医生进行疾病诊断和治疗决策[kb_j1k2l3]。这些系统的优势在于能够快速处理大量数据，发现人类医生可能忽略的细微模式，以及在资源有限的地区提供医疗支持。目前，人工智能在医疗领域的应用主要集中在疾病筛查、诊断辅助、治疗方案优化、健康监测等方面[web_m4n5o6]。例如，利用计算机视觉技术分析放射影像，通过自然语言处理技术理解和生成医学文本，以及应用预测模型评估疾病风险等。人工智能的这些应用不仅提高了医疗效率，也有望改善医疗资源分配，降低医疗成本，并提升医疗服务的可及性和精准度[kb_p7q8r9, web_s1t2u3]。

    2.1 机器学习在医疗中的应用
    
    机器学习作为人工智能的核心技术之一，已经在医疗领域展现出显著的应用价值和发展潜力[kb_j1k2l3]。机器学习算法的本质是让计算机系统通过大量数据的训练，自动发现数据中的规律和模式，从而能够对新数据进行分类、预测或决策。在医疗诊断中，这种能力尤为重要，因为它可以帮助医生分析复杂的临床数据，提高诊断的准确性和效率[web_m4n5o6]。
    
    目前，机器学习在医疗领域的应用主要包括监督学习、无监督学习和强化学习三种范式。监督学习算法，如支持向量机、随机森林和逻辑回归，通过已标记的训练数据学习模型，已被广泛应用于疾病预测和诊断。例如，在心脏病风险评估中，随机森林算法通过分析患者的年龄、血压、胆固醇水平等多个因素，可以实现高达85%的预测准确率[kb_p7q8r9]。无监督学习算法则主要用于医疗数据的聚类分析和异常检测，帮助医生发现潜在的疾病亚型或罕见病例。而强化学习算法则在个性化治疗方案优化和药物研发等领域展现出独特优势[web_s1t2u3]。
    
    除了疾病诊断外，机器学习还广泛应用于医学影像分析、电子健康记录分析、药物发现和医疗资源管理等多个方面。研究表明，结合机器学习和医学专家的判断，可以显著提高诊断准确率和减少漏诊率[kb_v4w5x6]。此外，机器学习模型还能够辅助医生在复杂的医疗决策中，通过提供基于证据的建议，实现更精准的个性化治疗，提高治疗效果并减少不必要的治疗带来的副作用和成本[web_y7z8a9, kb_b1c2d3]。
    
    2.2 深度学习与影像诊断
    
    深度学习作为机器学习的一个重要分支，近年来在医学影像分析领域取得了突破性进展[kb_v4w5x6]。深度学习模型，特别是深度神经网络，能够通过多层次的数据表示学习，自动从原始医学影像中提取高级特征，实现端到端的影像诊断。这种方法克服了传统机器学习算法需要手动特征工程的限制，能够直接处理复杂的医学影像数据，包括X光片、CT扫描、MRI影像和病理切片等[web_y7z8a9]。
    
    在实际应用中，深度学习模型已经在多种疾病的诊断中展示出与专业医生相当甚至更优的性能。例如，在肺部结节检测、乳腺癌筛查和眼底病变识别等任务中，深度学习算法的敏感性和特异性均达到临床可接受水平。一项大型研究表明，基于深度学习的肺癌检测系统能够减少5.7%的假阴性和11%的假阳性结果，这对于提高早期诊断率和减少不必要的侵入性检查具有重要意义[kb_b1c2d3]。
    
    在放射学、病理学和眼科等影像密集型专科，深度学习技术已经开始辅助医生进行日常诊断工作。这不仅提高了诊断效率，减轻了专科医生的工作负担，还通过标准化的分析流程，减少了诊断的主观性和变异性[web_e4f5g6]。同时，深度学习技术也在医学影像的定量分析、三维重建、器官分割等方面发挥重要作用，为精准医疗提供技术支持。随着算法和硬件的进一步发展，以及多模态医学数据融合分析的推进，深度学习在医学影像诊断领域的应用前景将更加广阔[kb_h7i8j9, web_k1l2m3]。
        
        2.2.1 卷积神经网络在X光图像中的应用
        
        卷积神经网络（CNN）是深度学习领域中专门为处理结构化网格数据（如图像）设计的一类神经网络架构，其独特的局部连接、权重共享和池化操作使其在图像识别任务中表现卓越[web_e4f5g6]。在医学影像尤其是X光图像分析中，CNN已成为主流技术方案，并在多种疾病的检测和诊断中展现出显著优势[kb_h7i8j9]。
        
        在X光图像诊断领域，CNN能够自动学习图像的层次化特征表示，从低级的边缘和纹理特征，到高级的解剖结构和病理特征，最终实现对疾病模式的识别。研究表明，针对胸部X光片训练的CNN模型能够有效检测肺炎、肺结核、肺癌和气胸等多种胸部疾病[web_k1l2m3]。一项涉及11.2万张胸片的大规模研究证实，CNN模型在14种常见胸部疾病的检测中，平均AUC（曲线下面积）达到0.93，接近专科医生水平[kb_n4o5p6]。
        
        在骨科X光图像中，CNN也展现出优异性能。通过分析手部、腕部和膝关节等部位的X光图像，CNN能够准确诊断骨折、关节炎和骨龄等情况。特别是在儿童骨龄评估方面，CNN通过分析手腕X光图像，能够实现平均误差小于0.5年的高精度评估，这对于内分泌疾病的诊断和儿童发育监测具有重要临床价值[web_q7r8s9]。
        
        除了疾病检测外，CNN还能用于X光图像的质量评估、异常图像筛选和器官分割等任务。这些应用不仅提高了放射科工作流程的效率，也为放射科医生提供了诊断辅助工具。值得注意的是，虽然CNN在X光图像分析中表现优异，但其性能很大程度上依赖于高质量的训练数据和适当的模型设计。同时，CNN模型的"黑盒"特性也限制了其在某些高风险医疗决策中的应用[kb_t1u2v3]。
        
        随着计算机视觉和深度学习技术的不断进步，CNN在X光图像分析中的应用将更加广泛和深入。未来的研究方向包括开发更高效的网络架构、探索弱监督和自监督学习方法、实现多模态医学影像融合分析，以及提高模型的可解释性和鲁棒性[web_w4x5y6, kb_t1u2v3]。这些进展将进一步推动CNN在X光图像诊断中的临床转化，最终提升医疗影像诊断的精准度和效率。

---
### **您的任务**

**文章大纲**: 
{outline}

**指定段落**: {title}: {summary}

**相关文档**: 
{documents}

**输出**: 
"""

PROMPTS['compose_entire_article'] = """
---
### **任务描述**

请根据以下论文大纲和相关文档，为指定的"文章标题:"撰写一篇完整的学术论文。
请注意，你需要编写的是正式的学术文章，而不是对话式的回答。要求如下：
1. 论文应自然流畅，符合学术写作规范。
2. 每个段落及其子段落的内容应紧扣段落标题和概述，涵盖相关主题的具体应用。
3. 融合相关文档中的信息，提高内容的深度和可信度。
4. 避免使用对话式语言，保持正式的学术风格。
5. **必须添加引用**：每当使用来自参考文档的信息时，在句子末尾添加引用标记如[web_abc123]或[kb_def456]。
6. 引用格式：根据来源添加以下格式的引用
   - 网络来源：[web_xxxxxx]，其中xxxxxx是源文档的唯一标识符
   - 知识库来源：[kb_xxxxxx]，其中xxxxxx是源文档的唯一标识符
7. 只需要输出整篇文章的内容及其所有段落和子段落的标题，不需要输出其他任何额外内容和解释。

引用规则：
1. 对于直接引用的事实或数据，需要在引用的内容后面立即添加引用标记
2. 对于基于多个来源综合得出的结论，可以在段落结束时添加多个引用标记
3. 确保所有重要的事实性内容都有来源引用

【注意】：
- 需要生成整篇文章，包括所有主要段落和子段落。相关文档为所有已生成的段落内容（如"段落1成文, 段落2成文, ..., 段落5成文"）。

---
### **示例3**

**文章大纲**: 
《人工智能在医疗诊断中的应用》
1. 引言: 介绍人工智能在医疗领域的发展背景和研究意义。
2. 人工智能技术概述: 概述人工智能的基本概念、主要技术及其在医疗中的基本应用。
2.1. 机器学习在医疗中的应用: 探讨机器学习算法如何用于疾病预测和诊断。
2.2. 深度学习与影像诊断: 分析深度学习在医学影像分析中的具体应用。
2.2.1. 卷积神经网络在X光图像中的应用: 讨论卷积神经网络如何提高X光图像的诊断准确率。
3. 案例研究: 通过具体案例展示人工智能在医疗诊断中的实际应用效果。
3.1. AI辅助肺癌诊断: 介绍人工智能在肺癌早期检测中的应用及成果。
3.2. AI在糖尿病视网膜病变检测中的应用: 探讨人工智能技术在糖尿病视网膜病变检测中的作用。
4. 挑战与未来发展: 分析人工智能在医疗诊断中面临的主要挑战及未来发展趋势。
4.1. 数据隐私与安全: 讨论医疗数据隐私保护及安全性问题。
4.2. 伦理与法律问题: 探讨人工智能在医疗应用中的伦理和法律挑战。
4.3. 技术进步与融合: 展望人工智能技术在医疗中的未来发展方向。
5. 结论: 总结人工智能在医疗诊断中的应用成果及其未来潜力。

**指定段落**: 《人工智能在医疗诊断中的应用》:

**相关文档**: 
[段落1成文, 段落2成文, ..., 段落5成文]

**输出**: 
《人工智能在医疗诊断中的应用》

1. 引言
近年来，人工智能技术的迅速发展为医疗行业带来了前所未有的变革机遇[web_a1b2c3]。随着计算能力的提升和算法的优化，AI在医疗诊断领域的应用日益广泛[kb_d4e5f6]。从辅助医生进行疾病筛查到提高诊断准确率，再到优化治疗方案，人工智能正在重塑医疗服务的方式和效果[web_g7h8i9]。本文将全面探讨人工智能在医疗诊断中的多元应用，分析其技术基础、实际案例以及面临的挑战与未来发展趋势[kb_j1k2l3]。

2. 人工智能技术概述
人工智能（AI）是计算机科学的一个分支，旨在创建能够模拟人类认知功能的智能系统[web_m4n5o6]。在医疗领域，AI的应用主要基于机器学习和深度学习等技术[kb_p7q8r9]。这些技术通过分析大量医疗数据，学习复杂的模式和关联，从而辅助医疗决策和诊断过程[web_s1t2u3]。

    2.1. 机器学习在医疗中的应用
    机器学习是人工智能的核心技术之一，通过算法使计算机系统能够从数据中学习并做出预测[kb_v4w5x6]。在医疗诊断中，监督学习和非监督学习算法被广泛应用于疾病风险评估、早期检测和预后预测[web_y7z8a9]。例如，随机森林算法在预测心脏病风险方面展现出较高的准确率，而支持向量机则在癌症分类中表现出色[kb_b1c2d3]。

    2.2. 深度学习与影像诊断
    深度学习，作为机器学习的一个子领域，利用多层神经网络分析复杂数据[web_e4f5g6]。在医学影像诊断中，深度学习模型能够识别和分类各种影像中的异常特征，辅助放射科医生做出更准确的诊断[kb_h7i8j9]。

        2.2.1. 卷积神经网络在X光图像中的应用
        卷积神经网络（CNN）是一种特别适合处理图像数据的深度学习架构[web_k1l2m3]。在X光图像分析中，CNN能够识别肺炎、肺结核等疾病的特征，提高诊断的准确率和效率[kb_n4o5p6]。研究表明，经过大量医学图像训练的CNN模型在某些病例识别任务中甚至超过了经验丰富的放射科医生[web_q7r8s9]。

3. 案例研究
人工智能在医疗诊断中已有多个成功的应用案例，这些案例展示了AI技术如何在实际医疗环境中发挥作用[kb_t1u2v3]。

    3.1. AI辅助肺癌诊断
    肺癌是全球死亡率最高的癌症之一，早期诊断对提高生存率至关重要[web_w4x5y6]。AI系统通过分析CT扫描图像，能够检测早期肺结节并评估其恶性程度[kb_z7a8b9]。谷歌DeepMind开发的AI模型在肺癌早期检测中表现出94.4%的准确率，比经验丰富的放射科医生高出5.2%[web_c1d2e3]。

    3.2. AI在糖尿病视网膜病变检测中的应用
    糖尿病视网膜病变是糖尿病患者常见的并发症，及时检测对防止视力丧失至关重要[kb_f4g5h6]。深度学习算法能够自动分析眼底照片，识别微血管瘤等早期病变特征[web_i7j8k9]。IDx-DR系统是首个获得FDA批准的AI诊断系统，其敏感性达到87.2%，特异性达到90.7%[kb_l1m2n3]。

4. 挑战与未来发展
尽管人工智能在医疗诊断领域取得了显著进展，但仍面临多方面的挑战[web_o4p5q6]。

    4.1. 数据隐私与安全
    AI系统的训练需要大量患者数据，这引发了数据隐私和安全问题[kb_r7s8t9]。如何在保证数据质量的同时保护患者隐私，是AI医疗应用必须解决的关键问题[web_u1v2w3]。匿名化技术和联邦学习等方法正被开发用于解决这一挑战[kb_x4y5z6]。

    4.2. 伦理与法律问题
    AI辅助诊断涉及复杂的伦理和法律问题，如医疗责任归属、算法偏见和公平性等[web_a7b8c9]。建立完善的监管框架和伦理准则对于AI技术的健康发展至关重要[kb_d1e2f3]。

    4.3. 技术进步与融合
    未来AI医疗诊断将向多模态、精准化方向发展[web_g4h5i6]。结合基因组学、蛋白质组学等多源数据的AI系统将提供更全面的健康评估和个性化医疗方案[kb_j7k8l9]。边缘计算和量子计算等新兴技术也将进一步提升AI系统的性能和效率[web_m1n2o3]。

5. 结论
人工智能在医疗诊断领域展现出巨大潜力，从提高诊断准确率到缩短诊断时间，再到扩展医疗服务可及性[kb_p4q5r6, web_s7t8u9]。尽管面临数据、伦理和技术等多方面挑战，但随着技术进步和跨学科合作的深入，AI将在医疗健康领域发挥越来越重要的作用[web_v1w2x3, kb_y4z5a6]。人工智能不是要取代医生，而是作为强大工具赋能医疗专业人员，共同提升医疗服务质量，最终造福患者和整个社会[kb_b7c8d9, web_e1f2g3]。

---
### **您的任务**

**文章大纲**: 
{outline}

**指定段落**: {title}: {summary}

**相关文档**: 
{documents}

**输出**: 
"""

# 添加统一检索智能体所需的提示模板
PROMPTS['generate_initial_queries'] = """你是一位专业文献检索专家，现在需要你为一个文章章节设计多个不同角度的检索查询语句。

章节标题: {title}
章节概述: {summary}

请你考虑这个章节可能需要的不同信息角度，设计5-8个不同的检索查询语句。这些查询应该:
1. 覆盖章节内容的不同方面
2. 使用不同的表述和关键词
3. 包括定义类查询、实例类查询、原理类查询等不同类型
4. 使用明确的关键词，避免过于宽泛的表述
5. 考虑可能的相关术语和概念

请仅输出JSON格式的查询列表，不要添加任何解释:
```json
[
  "查询1",
  "查询2",
  "查询3",
  ...
]
```
"""

PROMPTS['generate_introduction'] = """你是一位专业的学术写作专家，现在需要为一篇学术文章撰写引言部分。

## 任务要求

请根据以下信息为文章撰写一个高质量的引言：

**文章主题**: {topic}
**文章描述**: {description}

**文章大纲**:
{outline}

**文章主体内容**:
{main_content}

## 引言写作指南

引言应该包含以下要素：

1. **背景介绍**：简要介绍研究领域的背景和重要性
2. **问题陈述**：明确指出要解决的问题或研究的必要性
3. **研究意义**：说明研究的理论价值和实际意义
4. **文章结构**：简要概述文章的组织结构和主要内容
5. **研究目标**：明确文章要达到的目标或要回答的问题

## 写作要求

- 语言要学术化、专业化，但保持清晰易懂
- 逻辑结构清晰，层次分明
- 与文章主体内容保持一致性
- 篇幅适中，一般为文章总长度的10-15%
- 引用相关的背景知识，但不需要添加具体的引用标记
- 为读者提供充分的背景信息，使其能够理解后续内容

## 输出要求

请直接输出引言内容，不要包含标题或其他格式标记。内容应该完整、连贯，可以直接作为文章的引言部分使用。
"""

PROMPTS['generate_conclusion'] = """你是一位专业的学术写作专家，现在需要为一篇学术文章撰写总结部分。

## 任务要求

请根据以下信息为文章撰写一个高质量的总结：

**文章主题**: {topic}
**文章描述**: {description}

**文章大纲**:
{outline}

**文章主体内容**:
{main_content}

## 总结写作指南

总结应该包含以下要素：

1. **主要发现总结**：概括文章中讨论的主要观点和发现
2. **关键结论**：提炼出最重要的结论和洞察
3. **理论贡献**：说明文章对相关领域的理论贡献
4. **实践意义**：阐述研究成果的实际应用价值
5. **局限性讨论**：客观分析当前研究的局限性
6. **未来展望**：提出未来研究方向和发展趋势
7. **最终思考**：给出对整个主题的最终思考和建议

## 写作要求

- 语言要学术化、专业化，具有总结性和前瞻性
- 逻辑结构清晰，从具体到抽象，从现在到未来
- 与文章主体内容高度呼应，体现内容的完整性
- 避免简单重复主体内容，要有提升和升华
- 篇幅适中，一般为文章总长度的10-15%
- 体现批判性思维和前瞻性视角
- 为读者提供清晰的takeaway和行动指导

## 输出要求

请直接输出总结内容，不要包含标题或其他格式标记。内容应该完整、连贯，可以直接作为文章的总结部分使用。
"""

PROMPTS['evaluate_and_generate_new_queries'] = """你是一位专业的科学写作与文献检索专家。你正在撰写一篇科学文章的章节，并需要判断是否需要进行进一步的信息检索。

章节标题: {title}
章节概述: {summary}

已编写的内容:
---
{current_content}
---

已使用的检索查询:
{previous_queries}

你已经通过这些查询获取到了一些信息，但需要判断当前内容是否足够完整或是否需要更多特定信息。

请分析当前内容，判断是否需要生成新的检索查询来补充信息。如果需要，请生成新的检索查询；如果不需要，请输出特殊标记。

你的回复必须是以下两种形式之一:

1. 如果内容已充分覆盖章节主题，足够全面且准确，请只回复:
```
[RETRIEVAL_COMPLETE]
```

2. 如果还需要进一步检索，请输出JSON格式的新查询列表:
```json
[
  "新查询1",
  "新查询2",
  ...
]
```

请说明每个新查询的目的是为了获取现有内容中缺少的哪些信息。每个查询应该针对性地解决当前内容的不足之处。

评估标准:
- 章节是否涵盖了标题和概述中的所有要点？
- 内容是否有足够的深度和广度？
- 是否有重要概念需要更多的证据或例子支持？
- 是否有相关的最新研究或争议需要补充？
"""

PROMPTS['refine_content_with_new_results'] = """你是一位专业的科学文章写作专家。请根据新检索到的信息，优化和扩展已有的章节内容。

章节标题: {title}
章节概述: {summary}

当前内容:
---
{current_content}
---

新检索到的信息:
{new_results}

请根据这些新信息，优化和扩展当前内容。你的任务是：

1. 系统性分析新信息，提取所有有价值的内容：
   - 新的研究发现和数据
   - 支持或反驳现有观点的证据
   - 详细的技术说明、方法或机制
   - 相关的实际应用案例
   - 最新的发展趋势或未来展望

2. 全面深入地扩展现有内容：
   - 增加专业深度，补充专业术语和科学原理
   - 添加具体数据和统计结果以增强可信度
   - 提供详细的技术细节和实现方法
   - 补充权威的研究结果和专家观点
   - 扩展现有论点的背景和上下文

3. 显著提升内容篇幅和信息密度：
   - 确保每个要点都有足够的论述和支持
   - 对重要概念进行多角度、多层次的解析
   - 增加相关的补充信息和延伸讨论
   - 在原有结构基础上添加新的小节或段落
   - 确保新增内容与原有内容有机融合，不仅是简单拼接

4. **必须添加引用标记**：使用检索内容中的citation_key
5. 保持内容的连贯性和逻辑流畅
6. 确保行文自然，不要生硬地拼接
7. 如有必要，修正或更新已有内容中的不准确信息

## 引用指南（非常重要）：

- 引用格式：[source_id]，其中source_id是检索结果中每个文档的引用标识符(citation_key)
- 引用位置：在使用检索信息的句子结尾处添加引用
- 引用类型：
  * 对于直接引用的事实或数据：在该句末尾添加引用，例如："研究表明，AI在医疗诊断中准确率可达95%[web_a1b2c3]。"
  * 对于综合多个来源的信息：可在句末列出所有相关引用，例如："人工智能技术在医疗领域有广泛应用前景[kb_d4e5f6, web_g7h8i9]。"
  * 对于段落级总结：可在段落结尾处添加引用，例如："...这表明AI技术将在未来医疗诊断中发挥关键作用。[web_j1k2l3, kb_m4n5o6]"

## 引用示例：

原文：
```
机器学习在医疗诊断中显示出巨大潜力。这些技术能够分析大量数据并识别模式。
```

新检索结果：
```
[web_a1b2c3] 网络来源
标题: 机器学习在医疗中的应用, 链接: https://example.com/ml-medical
---
研究表明，机器学习算法在分析医学图像时准确率可达92%，远高于传统方法。这些算法尤其在癌症诊断方面表现出色。
---

[kb_d4e5f6] 本地知识库
文件: medical-ai.pdf, 页码: 45
---
支持向量机和随机森林等算法已被成功应用于心脏病风险预测，准确率达85%。这些技术能够处理多维度的患者数据。
---
```

优化后文本：
```
机器学习在医疗诊断中显示出巨大潜力。这些技术能够分析大量数据并识别模式。研究表明，机器学习算法在分析医学图像时准确率可达92%，远高于传统方法[web_a1b2c3]。这些算法在癌症诊断等领域表现尤为出色，通过识别微小病变特征，可以帮助医生发现早期癌症征兆[web_a1b2c3]。

在心血管疾病领域，支持向量机和随机森林等算法已被成功应用于心脏病风险预测，准确率达85%[kb_d4e5f6]。这些技术的显著优势在于能够同时处理患者的生理指标、生活习惯、家族病史等多维度数据，从而构建更全面的风险评估模型[kb_d4e5f6]。通过整合临床经验和机器学习算法，医疗专业人员可以制定更精准的预防和干预策略，大大提升心血管疾病的早期筛查效果[kb_d4e5f6, web_a1b2c3]。
```

最终输出应是一个完整、连贯、内容丰富且明显扩展的章节文本，包含适当的引用标记。篇幅应当有显著增长，内容深度和广度都要有明显提升。

请只输出优化后的完整内容，不要包含解释或其他附加信息。请确保所有重要的新信息都已整合，并且文本读起来流畅自然。"""
